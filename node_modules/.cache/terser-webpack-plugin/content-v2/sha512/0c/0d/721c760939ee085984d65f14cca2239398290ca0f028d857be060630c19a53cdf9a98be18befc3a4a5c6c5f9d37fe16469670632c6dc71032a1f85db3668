{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{512:function(t,s,a){\"use strict\";a.r(s);var e=a(12),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"_12-说说对react-refs-的理解-应用场景\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_12-说说对react-refs-的理解-应用场景\"}},[t._v(\"#\")]),t._v(\" 12.说说对React refs 的理解？应用场景？\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://cdn.jsdelivr.net/gh/IceRain-mvc/cdn/img/640-20210928203303598\",alt:\"图片\"}})]),t._v(\" \"),s(\"h2\",{attrs:{id:\"一、是什么\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一、是什么\"}},[t._v(\"#\")]),t._v(\" 一、是什么\")]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"Refs\")]),t._v(\" 在计算机中称为弹性文件系统（英语：Resilient File System，简称ReFS）\")]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"React\")]),t._v(\" 中的 \"),s(\"code\",[t._v(\"Refs\")]),t._v(\"提供了一种方式，允许我们访问 \"),s(\"code\",[t._v(\"DOM\")]),t._v(\"节点或在 \"),s(\"code\",[t._v(\"render\")]),t._v(\"方法中创建的 \"),s(\"code\",[t._v(\"React\")]),t._v(\"元素\")]),t._v(\" \"),s(\"p\",[t._v(\"本质为\"),s(\"code\",[t._v(\"ReactDOM.render()\")]),t._v(\"返回的组件实例，如果是渲染组件则返回的是组件实例，如果渲染\"),s(\"code\",[t._v(\"dom\")]),t._v(\"则返回的是具体的\"),s(\"code\",[t._v(\"dom\")]),t._v(\"节点\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"二、如何使用\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#二、如何使用\"}},[t._v(\"#\")]),t._v(\" 二、如何使用\")]),t._v(\" \"),s(\"p\",[t._v(\"创建\"),s(\"code\",[t._v(\"ref\")]),t._v(\"的形式有三种：\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"传入字符串，使用时通过 this.refs.传入的字符串的格式获取对应的元素\")]),t._v(\" \"),s(\"li\",[t._v(\"传入对象，对象是通过 React.createRef()  方式创建出来，使用时获取到创建的对象中存在 current 属性就是对应的元素\")]),t._v(\" \"),s(\"li\",[t._v(\"传入函数，该函数会在 DOM 被挂载时进行回调，这个函数会传入一个 元素对象，可以自己保存，使用时，直接拿到之前保存的元素对象即可\")]),t._v(\" \"),s(\"li\",[t._v(\"传入hook，hook是通过 useRef() 方式创建，使用时通过生成hook对象的 current 属性就是对应的元素\")])]),t._v(\" \"),s(\"h3\",{attrs:{id:\"传入字符串\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#传入字符串\"}},[t._v(\"#\")]),t._v(\" 传入字符串\")]),t._v(\" \"),s(\"p\",[t._v(\"只需要在对应元素或组件中\"),s(\"code\",[t._v(\"ref\")]),t._v(\"属性\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"MyComponent\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"extends\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"React\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"Component\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"constructor\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"props\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"super\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"props\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"myRef \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" React\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createRef\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"render\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"div\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"ref\")]),s(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"myref\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"访问当前节点的方式如下：\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"refs\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"myref\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"innerHTML \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"hello\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),s(\"h3\",{attrs:{id:\"传入对象\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#传入对象\"}},[t._v(\"#\")]),t._v(\" 传入对象\")]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"refs\")]),t._v(\"通过\"),s(\"code\",[t._v(\"React.createRef()\")]),t._v(\"创建，然后将\"),s(\"code\",[t._v(\"ref\")]),t._v(\"属性添加到\"),s(\"code\",[t._v(\"React\")]),t._v(\"元素中，如下：\")]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"class MyComponent extends React.Component {\\n  constructor(props) {\\n    super(props);\\n    this.myRef = React.createRef();\\n  }\\n  render() {\\n    return <div ref={this.myRef} />;\\n  }\\n}\\n\")])])]),s(\"p\",[t._v(\"当 \"),s(\"code\",[t._v(\"ref\")]),t._v(\" 被传递给 \"),s(\"code\",[t._v(\"render\")]),t._v(\" 中的元素时，对该节点的引用可以在 \"),s(\"code\",[t._v(\"ref\")]),t._v(\" 的 \"),s(\"code\",[t._v(\"current\")]),t._v(\" 属性中访问\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"const\")]),t._v(\" node \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"myRef\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"current\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),s(\"h3\",{attrs:{id:\"jsx传入函数\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#jsx传入函数\"}},[t._v(\"#\")]),t._v(\" jsx传入函数\")]),t._v(\" \"),s(\"p\",[t._v(\"当\"),s(\"code\",[t._v(\"ref\")]),t._v(\"传入为一个函数的时候，在渲染过程中，回调函数参数会传入一个元素对象，然后通过实例将对象进行保存\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"MyComponent\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"extends\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"React\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"Component\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"constructor\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"props\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"super\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"props\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"myRef \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" React\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createRef\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"render\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"div\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"ref\")]),s(\"span\",{pre:!0,attrs:{class:\"token script language-javascript\"}},[s(\"span\",{pre:!0,attrs:{class:\"token script-punctuation punctuation\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"element\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"myref \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" element\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")])]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"获取\"),s(\"code\",[t._v(\"ref\")]),t._v(\"对象只需要通过先前存储的对象即可\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"const\")]),t._v(\" node \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"myref \\n\")])])]),s(\"h3\",{attrs:{id:\"传入hook\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#传入hook\"}},[t._v(\"#\")]),t._v(\" 传入hook\")]),t._v(\" \"),s(\"p\",[t._v(\"通过\"),s(\"code\",[t._v(\"useRef\")]),t._v(\"创建一个\"),s(\"code\",[t._v(\"ref\")]),t._v(\"，整体使用方式与\"),s(\"code\",[t._v(\"React.createRef\")]),t._v(\"一致\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-js extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"App\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"props\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"const\")]),t._v(\" myref \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"useRef\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n      \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"div ref\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"myref\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"div\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"获取\"),s(\"code\",[t._v(\"ref\")]),t._v(\"属性也是通过\"),s(\"code\",[t._v(\"hook\")]),t._v(\"对象的\"),s(\"code\",[t._v(\"current\")]),t._v(\"属性\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"const\")]),t._v(\" node \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" myref\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"current\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"上述三种情况都是\"),s(\"code\",[t._v(\"ref\")]),t._v(\"属性用于原生\"),s(\"code\",[t._v(\"HTML\")]),t._v(\"元素上，如果\"),s(\"code\",[t._v(\"ref\")]),t._v(\"设置的组件为一个类组件的时候，\"),s(\"code\",[t._v(\"ref\")]),t._v(\"对象接收到的是组件的挂载实例\")]),t._v(\" \"),s(\"p\",[t._v(\"注意的是，不能在函数组件上使用\"),s(\"code\",[t._v(\"ref\")]),t._v(\"属性，因为他们并没有实例\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"三、应用场景\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#三、应用场景\"}},[t._v(\"#\")]),t._v(\" 三、应用场景\")]),t._v(\" \"),s(\"p\",[t._v(\"在某些情况下，我们会通过使用\"),s(\"code\",[t._v(\"refs\")]),t._v(\"来更新组件，但这种方式并不推荐，更多情况我们是通过\"),s(\"code\",[t._v(\"props\")]),t._v(\"与\"),s(\"code\",[t._v(\"state\")]),t._v(\"的方式进行去重新渲染子元素\")]),t._v(\" \"),s(\"p\",[t._v(\"过多使用\"),s(\"code\",[t._v(\"refs\")]),t._v(\"，会使组件的实例或者是\"),s(\"code\",[t._v(\"DOM\")]),t._v(\"结构暴露，违反组件封装的原则\")]),t._v(\" \"),s(\"p\",[t._v(\"例如，避免在 \"),s(\"code\",[t._v(\"Dialog\")]),t._v(\" 组件里暴露 \"),s(\"code\",[t._v(\"open()\")]),t._v(\" 和 \"),s(\"code\",[t._v(\"close()\")]),t._v(\" 方法，最好传递 \"),s(\"code\",[t._v(\"isOpen\")]),t._v(\" 属性\")]),t._v(\" \"),s(\"p\",[t._v(\"但下面的场景使用\"),s(\"code\",[t._v(\"refs\")]),t._v(\"非常有用：\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"对Dom元素的焦点控制、内容选择、控制\")]),t._v(\" \"),s(\"li\",[t._v(\"对Dom元素的内容设置及媒体播放\")]),t._v(\" \"),s(\"li\",[t._v(\"对Dom元素的操作和对组件实例的操作\")]),t._v(\" \"),s(\"li\",[t._v(\"集成第三方 DOM 库\")])]),t._v(\" \"),s(\"h2\",{attrs:{id:\"参考文献\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考文献\"}},[t._v(\"#\")]),t._v(\" 参考文献\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"https://zh-hans.reactjs.org/docs/refs-and-the-dom.html\")])])])}),[],!1,null,null,null);s.default=n.exports}}]);","extractedComments":[]}