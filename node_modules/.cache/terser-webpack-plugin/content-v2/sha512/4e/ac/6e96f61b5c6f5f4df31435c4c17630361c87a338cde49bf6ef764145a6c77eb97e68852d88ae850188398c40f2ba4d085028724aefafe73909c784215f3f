{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[186],{519:function(t,s,a){\"use strict\";a.r(s);var n=a(12),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"_21-你在react项目中是如何使用redux的-项目结构是如何划分的\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_21-你在react项目中是如何使用redux的-项目结构是如何划分的\"}},[t._v(\"#\")]),t._v(\" 21.你在React项目中是如何使用Redux的? 项目结构是如何划分的？\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://cdn.jsdelivr.net/gh/IceRain-mvc/cdn/img/640-20210928205233856\",alt:\"图片\"}})]),t._v(\" \"),s(\"h2\",{attrs:{id:\"一、背景\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一、背景\"}},[t._v(\"#\")]),t._v(\" 一、背景\")]),t._v(\" \"),s(\"p\",[t._v(\"在\"),s(\"a\",{attrs:{href:\"http://mp.weixin.qq.com/s?__biz=MzU1OTgxNDQ1Nw==&mid=2247488588&idx=2&sn=44a851337e9ba82201231decbb41782a&chksm=fc10d61acb675f0cc3b72c42222eda1c34c5a00e6e2a3834bcbba74adce16e9937700198fbc9&scene=21#wechat_redirect\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Redux介绍中\"),s(\"OutboundLink\")],1),t._v(\"，我们了解到\"),s(\"code\",[t._v(\"redux\")]),t._v(\"是用于数据状态管理，而\"),s(\"code\",[t._v(\"react\")]),t._v(\"是一个视图层面的库\")]),t._v(\" \"),s(\"p\",[t._v(\"如果将两者连接在一起，可以使用官方推荐\"),s(\"code\",[t._v(\"react-redux\")]),t._v(\"库，其具有高效且灵活的特性\")]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"react-redux\")]),t._v(\"将组件分成：\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"容器组件：存在逻辑处理\")]),t._v(\" \"),s(\"li\",[t._v(\"UI 组件：只负责现显示和交互，内部不处理逻辑，状态由外部控制\")])]),t._v(\" \"),s(\"p\",[t._v(\"通过\"),s(\"code\",[t._v(\"redux\")]),t._v(\"将整个应用状态存储到\"),s(\"code\",[t._v(\"store\")]),t._v(\"中，组件可以派发\"),s(\"code\",[t._v(\"dispatch\")]),t._v(\"行为\"),s(\"code\",[t._v(\"action\")]),t._v(\"给\"),s(\"code\",[t._v(\"store\")])]),t._v(\" \"),s(\"p\",[t._v(\"其他组件通过订阅\"),s(\"code\",[t._v(\"store\")]),t._v(\"中的状态\"),s(\"code\",[t._v(\"state\")]),t._v(\"来更新自身的视图\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"二、如何做\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#二、如何做\"}},[t._v(\"#\")]),t._v(\" 二、如何做\")]),t._v(\" \"),s(\"p\",[t._v(\"使用\"),s(\"code\",[t._v(\"react-redux\")]),t._v(\"分成了两大核心：\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"Provider\")]),t._v(\" \"),s(\"li\",[t._v(\"connection\")])]),t._v(\" \"),s(\"h3\",{attrs:{id:\"provider\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#provider\"}},[t._v(\"#\")]),t._v(\" Provider\")]),t._v(\" \"),s(\"p\",[t._v(\"在\"),s(\"code\",[t._v(\"redux\")]),t._v(\"中存在一个\"),s(\"code\",[t._v(\"store\")]),t._v(\"用于存储\"),s(\"code\",[t._v(\"state\")]),t._v(\"，如果将这个\"),s(\"code\",[t._v(\"store\")]),t._v(\"存放在顶层元素中，其他组件都被包裹在顶层元素之上\")]),t._v(\" \"),s(\"p\",[t._v(\"那么所有的组件都能够受到\"),s(\"code\",[t._v(\"redux\")]),t._v(\"的控制，都能够获取到\"),s(\"code\",[t._v(\"redux\")]),t._v(\"中的数据\")]),t._v(\" \"),s(\"p\",[t._v(\"使用方式如下：\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"Provider store \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"store\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"App\")])]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"/>\")])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Provider\")])]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),s(\"span\",{pre:!0,attrs:{class:\"token plain-text\"}},[t._v(\"\\n\")])])])]),s(\"h3\",{attrs:{id:\"connection\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#connection\"}},[t._v(\"#\")]),t._v(\" connection\")]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"connect\")]),t._v(\"方法将\"),s(\"code\",[t._v(\"store\")]),t._v(\"上的\"),s(\"code\",[t._v(\"getState\")]),t._v(\"和 \"),s(\"code\",[t._v(\"dispatch\")]),t._v(\"包装成组件的\"),s(\"code\",[t._v(\"props\")])]),t._v(\" \"),s(\"p\",[t._v(\"导入\"),s(\"code\",[t._v(\"conect\")]),t._v(\"如下：\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" connect \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"from\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"react-redux\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"用法如下：\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"connect\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"mapStateToProps\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" mapDispatchToProps\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"MyComponent\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"可以传递两个参数：\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"mapStateToProps\")]),t._v(\" \"),s(\"li\",[t._v(\"mapDispatchToProps\")])]),t._v(\" \"),s(\"h3\",{attrs:{id:\"mapstatetoprops\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#mapstatetoprops\"}},[t._v(\"#\")]),t._v(\" mapStateToProps\")]),t._v(\" \"),s(\"p\",[t._v(\"把\"),s(\"code\",[t._v(\"redux\")]),t._v(\"中的数据映射到\"),s(\"code\",[t._v(\"react\")]),t._v(\"中的\"),s(\"code\",[t._v(\"props\")]),t._v(\"中去\")]),t._v(\" \"),s(\"p\",[t._v(\"如下：\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"const\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"mapStateToProps\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"state\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// prop : state.xxx  | 意思是将state中的某个数据映射到props中\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token literal-property property\"}},[t._v(\"foo\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" state\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"bar\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"组件内部就能够通过\"),s(\"code\",[t._v(\"props\")]),t._v(\"获取到\"),s(\"code\",[t._v(\"store\")]),t._v(\"中的数据\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Foo\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"extends\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Component\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"constructor\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"props\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"super\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"props\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"render\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n        \\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 这样子渲染的其实就是state.bar的数据了\")]),t._v(\"\\n            \"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"div\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),s(\"span\",{pre:!0,attrs:{class:\"token plain-text\"}},[t._v(\"this.props.foo\")]),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"div\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\nFoo \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"connect\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"Foo\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"export\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"default\")]),t._v(\" Foo\\n\")])])]),s(\"h3\",{attrs:{id:\"mapdispatchtoprops\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#mapdispatchtoprops\"}},[t._v(\"#\")]),t._v(\" mapDispatchToProps\")]),t._v(\" \"),s(\"p\",[t._v(\"将\"),s(\"code\",[t._v(\"redux\")]),t._v(\"中的\"),s(\"code\",[t._v(\"dispatch\")]),t._v(\"映射到组件内部的\"),s(\"code\",[t._v(\"props\")]),t._v(\"中\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"const\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"mapDispatchToProps\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"dispatch\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 默认传递参数就是dispatch\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"onClick\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"dispatch\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token literal-property property\"}},[t._v(\"type\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'increatment'\")]),t._v(\"\\n      \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Foo\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"extends\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Component\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"constructor\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"props\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"super\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"props\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"render\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n         \\n             \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"button onClick \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"props\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"onClick\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"点击increase\"),s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"button\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\nFoo \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"connect\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"Foo\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"export\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"default\")]),t._v(\" Foo\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),s(\"h3\",{attrs:{id:\"小结\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#小结\"}},[t._v(\"#\")]),t._v(\" 小结\")]),t._v(\" \"),s(\"p\",[t._v(\"整体流程图大致如下所示：\")]),t._v(\" \"),s(\"p\",[s(\"img\",{attrs:{src:\"https://cdn.jsdelivr.net/gh/IceRain-mvc/cdn/img/640-20210928205243020\",alt:\"图片\"}})]),t._v(\" \"),s(\"h2\",{attrs:{id:\"三、项目结构\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#三、项目结构\"}},[t._v(\"#\")]),t._v(\" 三、项目结构\")]),t._v(\" \"),s(\"p\",[t._v(\"可以根据项目具体情况进行选择，以下列出两种常见的组织结构\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"按角色组织-mvc\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#按角色组织-mvc\"}},[t._v(\"#\")]),t._v(\" 按角色组织（MVC）\")]),t._v(\" \"),s(\"p\",[t._v(\"角色如下：\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"reducers\")]),t._v(\" \"),s(\"li\",[t._v(\"actions\")]),t._v(\" \"),s(\"li\",[t._v(\"components\")]),t._v(\" \"),s(\"li\",[t._v(\"containers\")])]),t._v(\" \"),s(\"p\",[t._v(\"参考如下：\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[t._v(\"reducers\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"\\n  todoReducer\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  filterReducer\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\nactions\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"\\n  todoAction\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  filterActions\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\ncomponents\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"\\n  todoList\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  todoItem\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  filter\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\ncontainers\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"\\n  todoListContainer\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  todoItemContainer\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  filterContainer\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n\")])])]),s(\"h4\",{attrs:{id:\"按功能组织\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#按功能组织\"}},[t._v(\"#\")]),t._v(\" 按功能组织\")]),t._v(\" \"),s(\"p\",[t._v(\"使用\"),s(\"code\",[t._v(\"redux\")]),t._v(\"使用功能组织项目，也就是把完成同一应用功能的代码放在一个目录下，一个应用功能包含多个角色的代码\")]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"Redux\")]),t._v(\"中，不同的角色就是\"),s(\"code\",[t._v(\"reducer\")]),t._v(\"、\"),s(\"code\",[t._v(\"actions\")]),t._v(\"和视图，而应用功能对应的就是用户界面的交互模块\")]),t._v(\" \"),s(\"p\",[t._v(\"参考如下：\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[t._v(\"todoList\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"\\n  actions\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  actionTypes\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  index\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  reducer\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  views\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"\\n    components\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n    containers\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\nfilter\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"\\n  actions\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  actionTypes\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  index\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  reducer\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n  views\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"\\n    components\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n    container\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"js\\n\")])])]),s(\"p\",[t._v(\"每个功能模块对应一个目录，每个目录下包含同样的角色文件：\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"actionTypes.js 定义action类型\")]),t._v(\" \"),s(\"li\",[t._v(\"actions.js 定义action构造函数\")]),t._v(\" \"),s(\"li\",[t._v(\"reducer.js  定义这个功能模块如果响应actions.js定义的动作\")]),t._v(\" \"),s(\"li\",[t._v(\"views 包含功能模块中所有的React组件，包括展示组件和容器组件\")]),t._v(\" \"),s(\"li\",[t._v(\"index.js 把所有的角色导入，统一导出\")])]),t._v(\" \"),s(\"p\",[t._v(\"其中\"),s(\"code\",[t._v(\"index\")]),t._v(\"模块用于导出对外的接口\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"*\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"as\")]),t._v(\" actions \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"from\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'./actions.js'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" reducer \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"from\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'./reducer.js'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" view \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"from\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'./views/container.js'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"export\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" actions\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" reducer\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" view \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"导入方法如下：\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-jsx extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"import\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" actions\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" reducer\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" view \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"as\")]),t._v(\" TodoList \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"from\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'./xxxx'\")]),t._v(\"\\n\")])])]),s(\"h2\",{attrs:{id:\"参考文献\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考文献\"}},[t._v(\"#\")]),t._v(\" 参考文献\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"https://www.redux.org.cn/docs/basics/UsageWithReact.html\")])])])}),[],!1,null,null,null);s.default=e.exports}}]);","extractedComments":[]}